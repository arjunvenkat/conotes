<h1>Listing notes</h1>

<table>
  <thead>
    <tr>
      <th>Tags</th>
      <th>Contents</th>
      <th>Votes</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @notes.each do |note| %>
      <tr>
        <td>
          <% note.tags.each_with_index do |tag, index| %>
            <% if index == note.tags.count - 1 %>
              <%= link_to tag.name, tag %>
            <% else %>
              <%= link_to tag.name, tag %>,
            <% end %>
          <% end %>
        </td>
        <td><%= truncate(note.contents) %></td>
        <td><%= note.num_votes %></td>
        <td><%= link_to 'Show', note %></td>
        <td><%= link_to 'Edit', edit_note_path(note) %></td>
        <td><%= link_to 'Destroy', note, method: :delete, data: { confirm: 'Are you sure?' } %></td>
        <td><%= link_to 'Vote', votes_url(type: 'note', id: note.id), method: :post %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Note', new_note_path %>
